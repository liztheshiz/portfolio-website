<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Liz Stone | Cinema.Database Case Study</title>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Forum&family=Work+Sans:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/movie-case.css">
</head>

<body class="page-body">
    <main class="case-study__main page-main">
        <a href="portfolio-pages/aws-img-app.html" class="case-study__return">
            &#8592 RETURN</a>

        <h1 class="case-study__main-title">CINEMA.DATABASE: AWS IMPLEMENTATION</h1>

        <div class="case-study__container">
            <div class="case__img-container__main">
                <img class="case__screenshot__main" src="img/aws-case/intro-image.jpg"
                    alt="screenshot of project homepage">
            </div>
            <div class="case-study__section">
                <h2>Overview</h2>
                <p class="case-study__description">The cloud deploy of Cinema.Database rearchitects the underlying
                    structure of the app to fit AWS best practices, as well as adds new functionality that interacts
                    directly with an S3 bucket through client-side code.
                </p>
                <div class="case__screenshot__container">
                    <img class="case__screenshot" src="img/movie-case/movie-case4.png" alt="screenshot from project">
                </div>
                <p class="case-study__body"><span class="case-study__title">Context: </span>
                    Culmination of project work during CareerFoundry’s Cloud Computing for Developers course</p>
                <p class="case-study__body"><span class="case-study__title">Purpose: </span>
                    Develop and deploy an app fully on the AWS cloud platform to gain proficiency in AWS tools and
                    technologies</p>
                <p class="case-study__body"><span class="case-study__title">Objective: </span>
                    Ensure app architecture is secure, reliable, and efficient, following AWS best practices</p>
                <p class="case-study__body"><span class="case-study__title">AWS Services Used: </span>
                    EC2, VPC, SG, ASG, ALB, AMI, IAM, S3, SDK, Lambda</p>
            </div>

            <h2>Method</h2>
            <div class="case-study__grid--aws">
                <div class="case-study__grid__item">
                    <h3>Migration</h3>
                    <div class="case__img-container">
                        <img class="case__image" src="img/movie-case/server.png" alt="image of a server">
                    </div>
                    <p class="case-study__body">The first steps in this project involved migrating the already existing
                        app to the cloud. The app in its entirety is made up of three basic parts: a client site, a
                        backend API, and a database. All of these components would need to be moved to AWS in a
                        configuration that maximized the benefits of using the cloud.</p>
                    <!--<div class="link-container">
                        <a href="https://cinemadatabase.herokuapp.com/" target="_blank">View all endpoints in the
                            documentation here.</a>
                    </div>-->
                    <h4>Setup</h4>
                    <p class="case-study__body">Before actually deploying anything, I set up a custom VPC where my EC2
                        instances would run. This allowed me to control ingress and egress to each component of my app
                        by dividing my network into subnets with various levels of access. The VPC was divided into
                        subnets with public access (open ingress and egress), private access (open egress but ingress
                        only from within the VPC), and even more private access for the database (ingress and egress
                        only within the VPC).</p>
                    <p class="case-study__body">Within each of these subdivisions were three subnets (three public,
                        three private, three database), each deployed in different Availability Zones within the US East
                        1 region. This would allow for me to implement horizontal scaling later on, discussed in detail
                        later in this case study.</p>
                    <h4>Database Deploy</h4>
                    <p class="case-study__body">Starting from the bottom layer, I decided to simply copy my database
                        onto an EC2 instance where it would run as a local MongoDB server. I learned about and
                        considered the pros and cons of other deploy methods, in particular converting the database to
                        the AWS-managed NoSQL service DynamoDB, but I ultimately didn’t use DynamoDB in order to avoid
                        some of the required refactoring and extra time needed to deploy with this method. Since this is
                        a relatively simple app with a simple database, it seemed the best choice to maintain that
                        simplicity.</p>
                    <p class="case-study__body">The EC2 instance housing my database was deployed to a database subnet
                        of my VPC, where the attached security group and lack of gateway prevented any access to the
                        public internet, but allowed certain traffic within the VPC. Following the principle of least
                        privilege, the security group only allowed traffic to and from the EC2 instances housing the API
                        (once they were created and their IPs known) and SSH access from a bastion instance deployed on
                        a public subnet.</p>
                    <h4>Server Deploy</h4>
                    <p class="case-study__body">Which brings us to the API instances. The API was initially deployed to
                        just one instance where it could be configured and copied into an AMI. The creation of this
                        instance and the deployment and configuration of the API were all done through the AWS CLI to
                        better familiarize myself with other methods of interacting with the AWS API beyond the
                        management console.</p>
                    <p class="case-study__body">The API was copied onto the instance, and a few necessary changes were
                        made to the code, such as updating the CORS policy and adding an environment variable that
                        referenced the MongoDB instance I had just made. Finally, the API was configured to run as a
                        server (on port 8081, which you may see in some screenshots).</p>
                    <h4>Refinement</h4>
                    <p class="case-study__body">While the backend of the app would have functioned fine in this
                        configuration, I wanted to simulate a real-world deployment as much as possible, which would
                        require additional measures of security and resiliency to failure. So, I followed the
                        architecture suggested by AWS as a best practice, and deployed the web server to an ASG,
                        targeted by an ALB. The 3 redundant web servers in the ASG were deployed in private subnets, so
                        they could receive traffic from the ALB and send/receive traffic to the database, but that was
                        it (besides SSH access from the bastion instance). The ALB could now distribute incoming traffic
                        across the instances, also acting as the public-facing entry point for the web servers.</p>
                    <h4>Client Site Deploy</h4>
                    <p class="case-study__body">The client-side code was relatively easier to deploy. All API calls had
                        to be updated to reference the ALB DNS, then the client code was copied into an S3 bucket and
                        configured as a static website (again using the AWS CLI).</p>
                </div>

                <div class="case-study__grid__item">
                    <h3>Client-Side</h3>
                    <div class="case__img-container">
                        <img class="case__image" src="img/movie-case/client.jpg" alt="image of web app on laptop">
                    </div>
                    <p class="case-study__body">I began by building out the basic framework of the app in order to
                        familiarize myself with React’s component structure, as well as test the functionality of the
                        app without any data. Bootstrap's handy UI library sped up this process, and kept the design
                        consistent.</p>
                    <p class="case-study__body">When implementing app capabilities that involved user interaction, I
                        took extra care to note UX
                        concerns like form validation; this would become especially important as users needed to input
                        information to the specifications of the API that was working behind-the-scenes.</p>
                    <p class="case-study__body"> As a final step before deployment, I collaborated with a designer to
                        update the original design into something more eye-catching and content appropriate.</p>
                    <div class="link-container">
                        <a href="https://cinemadatabase.netlify.app/" target="_blank">Experience the final product
                            here.*</a>
                        <p class="case-study__note">*Please note that you will need to make an account to use most
                            features of the app.</p>
                    </div>
                </div>
            </div>

            <h3>Testing</h3>
            <div class="case-study__grid">
                <div class="case-study__grid__item">
                    <img class="case-study__postman" src="img/movie-case/postman-icon.png" alt="Postman icon">
                    <p class="case-study__body">All testing on the server-side was done in Postman. Endpoint tests were
                        saved for regular testing, which was carried out throughout the project each time functionality
                        was added or changed.</p>
                </div>
                <div class="case-study__grid__item">
                    <p class="case-study__body">Client-side testing was carried out continuously; I kept the project
                        open on one screen to test immediate results as code was changed or added. Special
                        attention to testing was given at integral parts of development, such as after laying out the
                        basic framework, and after linking the app with my API.</p>
                </div>
            </div>

            <h2>Project Screenshots</h2>
            <div id="slideshow">
                <div class="slide-wrapper">
                    <div class="slide">
                        <img class="slide-image" src="img/movie-case/movie-case1.png">
                    </div>
                    <div class="slide">
                        <img class="slide-image" src="img/movie-case/movie-case2.png">
                    </div>
                    <div class="slide">
                        <img class="slide-image" src="img/movie-case/movie-case3.png">
                    </div>
                    <div class="slide">
                        <img class="slide-image" src="img/movie-case/movie-case4.png">
                    </div>
                    <div class="slide">
                        <img class="slide-image" src="img/movie-case/movie-case5.png">
                    </div>
                </div>
            </div>

            <h2>Retrospective</h2>
            <div class="case-study__grid">
                <div class="case-study__grid__item">
                    <h3>Challenges</h3>
                    <p class="case-study__body">The most challenging part of this project was developing with new tools
                        (React and Parcel) and learning how best to use them as I went.</p>
                    <p class="case-study__body">Parcel’s quirks in particular slowed down production time significantly.
                        From this challenge, I was able to readjust my <img class="case-study__parcel"
                            src="img/movie-case/parcel-icon.png" alt="Parcel logo"> production schedule to set aside
                        time for learning how to best utilize this finicky tool, and I made sure to record my solutions
                        for my future self or anyone else who might view my project (which you can view at the end of
                        the ReadMe on <a href="https://github.com/liztheshiz/movie-client"
                            target="_blank">Cinema.Database’s GitHub page</a>.) This allowed me to move forward
                        efficiently with the rest of the project.
                    </p>
                </div>
                <div class="case-study__grid__item">
                    <h3>Hindsight</h3>
                    <p class="case-study__body">Cinema.Database was only the second full web app I had developed, so I
                        was focused mainly on learning React. Since developing this app, I have continued to learn much
                        more about other development practices and tools, so if I were to begin this project again, I
                        would likely use a different, less glitch-prone build tool like Create React App, which I
                        used to build my next project, <a href="https://liztheshiz.github.io/meetup/"
                            target="_blank">Meetup</a>.</p>
                    <p class="case-study__body">I also might prefer a more formalized testing process. While the
                        informal test-as-you-go approach worked well for a small project like this, in the future I
                        might utilize an automated, test-driven approach with a tool like Jest to keep myself practiced
                        with common tools, and to make things easier down the line should I decide to increase the scope
                        of the project.</p>
                </div>
            </div>

            <h2>Credits</h2>
            <div class="case-study__grid2">
                <div class="case-study__grid2__item">
                    <p>Developed by</p>
                    <p>Design by</p>
                    <p>Project idea by</p>
                </div>
                <div class="case-study__grid2__item">
                    <p>Liz Stone</p>
                    <p><a href="https://www.linkedin.com/in/annaferrari1/" target="_blank">Anna Ferrari</a></p>
                    <p>CareerFoundry</p>
                </div>
            </div>
        </div>
        <div class="link-container">
            <div class="case-study__note">
                Free Stock photos by <a href="https://www.vecteezy.com/free-photos" target="_blank">Vecteezy</a>
            </div>
        </div>
    </main>

    <img class="footer-mountains" src="img/footer_1920_beartooth.png">

    <footer class="page-footer">
        <p class="email">lizzystone13@gmail.com</p>
        <div class="social-media">
            <a href="https://www.linkedin.com/in/its-liz/" target="_blank" class="footer-link"><img
                    class="footer-link__image" src="img/linkedin-icon.png" alt="LinkedIn icon"></a>
            <a href="https://github.com/liztheshiz" target="_blank" class="footer-link"><img class="footer-link__image"
                    src="img/github-icon.png" alt="Github icon"></a>
        </div>
    </footer>

    <!-- <script src="js/tota11y.min.js"></script> -->
</body>

</html>